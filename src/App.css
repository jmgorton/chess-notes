:root{
  --board-light: #EDE6D6;
  --board-dark: #8B6C47;
  --accent: #4C9AFF;
  --muted: #f3f3f3;
}

.App {
  text-align: center;
  background-color: black;
  height: 100%;
  min-height: 100vh;


  .App {
    text-align: center;
    background-color: #0f1720;
    min-height: 100vh;
    background-size: cover;
    margin: 0;
    padding: 24px;
    color: #f8fafc;
    box-sizing: border-box;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  }

  .App-header {
    max-width: 1200px;
    margin: 0 auto;
  }

  .game {
    display: flex;
    gap: 24px;
    align-items: flex-start;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 0; /* Align top edges */

    /* min-height: 50vh; */
    /* this is interesting ... */
    /* height: 100vh;  */
    /* height: 80vh; */
  }

  .game-board {
    margin-top: 50px;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .board-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));
    /* padding: 16px; */
    border-radius: 12px;
    box-shadow: 0 8px 30px rgba(2,6,23,0.6);
  }

  .board-row {
    display: flex;
  }

  .square {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.25rem;
    width: 64px;
    height: 64px;
    box-sizing: border-box;
    user-select: none;
    transition: transform 120ms ease, box-shadow 120ms ease, background 120ms ease;
    cursor: pointer;
    border-radius: 6px 6px 0 0;
  }

  @media (max-width: 700px) {
    .square {
      width: 10vw;
      height: 10vw;
      font-size: 4vw;
    }
  }

  .square.light {
    background: var(--board-light);
  }

  .square.dark {
    background: var(--board-dark);
    color: #fff;
  }

  .square:hover {
    transform: translateY(-4px);
    box-shadow: 0 6px 14px rgba(0,0,0,0.35);
  }

  .square.highlighted {
    outline: 3px solid #FFD54F;
    outline-offset: -3px;
  }

  .square.altHighlighted {
    outline: 3px solid var(--accent);
    outline-offset: -3px;
  }

  .square.selected {
    outline: 3px solid #FF6B6B;
    outline-offset: -3px;
  }

  .piece {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.25rem;
    position: relative;
    z-index: 2;
  }

  /* small square id label placed in the lower-right corner
     positioned behind the piece so translucent piece backgrounds reveal it */
  .square::before {
    content: attr(data-square-id);
    position: absolute;
    /* bottom: 2px;
    right: 4px; */
    bottom: 0;
    right: 0;
    font-size: 8px;
    line-height: 1;
    padding: 2px 4px;
    border-radius: 4px;
    opacity: 0.9;
    z-index: 1; /* behind piece (which is z-index:2) */
    pointer-events: none;
  }

  .square.light::before {
    /* color: rgba(0,0,0,0.5);  */
    color: black;
    /* background: rgba(255,255,255,0.25); */
  }

  .square.dark::before {
    /* color: rgba(255,255,255,0.8);  */
    color: white;
    /* background: rgba(0,0,0,0.18); */
  }

  .board-control-panel {
    margin-top: 8px;
    display: flex;
    gap: 8px;
  }

  .board-control-panel button {
    padding: 8px 12px;
    border-radius: 8px;
    border: none;
    background: rgba(255,255,255,0.06);
    color: var(--muted);
    cursor: pointer;
    transition: background 120ms ease, transform 120ms ease;
  }

  .board-control-panel button:hover {
    background: rgba(255,255,255,0.12);
    transform: translateY(-2px);
  }

  .game-info {
    /* position: relative; */
    display: flex;
    flex-direction: column;
    margin-top: 50px; 
    background-color: rgba(255,255,255,0.05);
    padding: 8px 12px;
    /* text-align: left; */
    border-radius: 8px;
    border: 1px solid rgba(255,255,255,0.1);
    color: var(--muted);
    align-self: flex-start;
    /* only works if parent has a defined height */
    /* height: 100%;  */
    height: 512px;
    /* height: 80vh; */
    /* this makes it stretch horizontally... */
    /* flex-grow: 1; */
    min-width: 200px;
    /* width: auto; */
  }

  .game-info > ol > li {
    /* text-align: left; */
    
    .move-row {
      /* text-align: left; */
      display: flex;

      .white-move {
        text-align: left;
        margin-right: 8px;
      }

      .black-move {
        text-align: right;
        margin-left: auto;
        margin-right: 20%;
      }
    }
  }

  .game-info > .game-controls {
    margin-top: auto;
    text-align: center;
    /* position: absolute; */
    /* bottom: 0; */
    /* width: 50%; */
    /* align-items: center; */
  }

  @media (max-width: 700px) {
    .game-info {
      height: 80vw;
      /* font-size: 4vw; */
    }
  }
  
  .game-notes {
    margin-top: 50px; /* Align top edges */
    background-color: rgba(255,255,255,0.05);
    /* padding: 14px; */
    text-align: left;
    width: 320px;
    max-width: 90vw;
    /* height: auto; */
    height: 100%;
    /* max-height: 480px; */
    overflow: hidden;
    border-radius: 8px;
    box-shadow: 0 6px 18px rgba(2,6,23,0.45);
  }

  .game-notes h3 {
    margin: 0 0 8px 0;
    font-size: 1rem;
  }

  .game-notes-textarea {
    width: 100%;
    box-sizing: border-box;
    min-height: 120px;
    max-height: 300px;
    /* updated to make all components match the height of the board... */
    /* would be much better to just make the size of the board (somewhat) dynamic */
    /* height: 512px;  */
    padding: 10px;
    border-radius: 6px;
    border: 1px solid rgba(0,0,0,0.1);
    resize: vertical;
    background: #fff;
    /* background: beige; */
    color: #111;
  }

  .game-notes button {
    margin-top: 8px;
    padding: 8px 12px;
    background: var(--accent);
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
  }

  .game-notes button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .prose {
    /* color: red; */
    /* justify-content: left;
    align-items: flex-start; */
    text-align: left;
  }
}

/* this popup does NOT exist within .App, it's at the same level as App element and placed below in the DOM */
.pawn-promotion-piece-picker {
  /* overflow: hidden; */
  position: 'absolute';
  background-color: '#f0f0f0';
  border: '2px solid #333';
  border-radius: '8px';
  padding: '8px';
  display: 'grid';
  grid-template-columns: 'repeat(2, 1fr)';
  gap: '8px';
  z-index: 1000;
  box-shadow: '0 4px 6px rgba(0, 0, 0, 0.1)';

  .square {
    /* background-color: #8B6C47; */
    border: 2px solid #333;
    /* setting too large a value for border-radius exposes the corners of the square pieces below */
    border-radius: 4px; 
    padding: 4px;
    cursor: 'pointer';
    transition: 'background-color 0.2s';
  }

  .square:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 14px rgba(0,0,0,0.35);
  }

  .square.light {
    background: var(--board-light);
  }

  .square.dark {
    background: var(--board-dark);
    color: #fff;
  }
}


.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black */
  display: flex;
  justify-content: center; /* Center horizontally */
  align-items: center;     /* Center vertically */
  z-index: 2000;           /* Ensure it stays on top */
}

.modal-content {
  background-color: beige;
  padding: 2rem;
  border-radius: 8px;
  max-width: 500px;
  width: 90%;             /* Responsive width on small screens */
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  position: relative;     /* Context for close buttons if needed */
}

  /* --- Animated logo styles --- */
  .app-logo-header {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 28px 0 8px 0;
  }

  .animated-logo-wrapper {
    display: inline-block;
    will-change: transform;
  }

  .animated-logo {
    display: block;
  }

  .logo-glow {
    mix-blend-mode: screen;
    opacity: 0.9;
    transition: opacity 300ms ease;
  }

  .logo-image {
    transform-box: fill-box;
    transform-origin: center;
    /* this animation makes the logo kind of gently bounce */
    /* animation: float 6s ease-in-out infinite;  */
    animation: spin 30s linear infinite; 
    /* animation: spin 20s linear infinite, spiral 30s ease-in-out infinite; */
    /* animation: spiral 30s ease-in-out infinite; */
    border-radius: 12px;
  }

  .orbits {
    transform-box: fill-box;
    transform-origin: center;
    /* this animation makes the orbits kind of shaky */
    /* animation: rotateOrbits 12s linear infinite; */
    /* animation: growOrbits 8s ease-in-out infinite; */
  }

  .orbit-dots {
    transform-box: fill-box;
    transform-origin: center;
    /* rotate dots around center while the orbits grow */
    /* animation: rotateOrbits 10s linear infinite; */
  }

  /* smooth color transitions when JS updates fills */
  .orbit-dot {
    transition: fill 700ms ease, opacity 300ms ease;
  }

  .orbit-dot.dot1 { animation: orbitDot1 4s linear infinite; }
  .orbit-dot.dot2 { animation: orbitDot2 5.5s linear infinite; }
  .orbit-dot.dot3 { animation: orbitDot3 7s linear infinite; }
  /* animations orbitDot{1,2,3} are just like rotateOrbits, but with translateX(0); */

  @keyframes rotateOrbits {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  @keyframes orbitDot1 {
    /* from { transform: rotate(0deg) translateX(0); }
    to { transform: rotate(360deg) translateX(0); } */
    0%    { transform: rotate(0deg) translateX(0); opacity: 1; }
    25%   { opacity: 0; }
    75%   { opacity: 0; }
    100%  { transform: rotate(360deg) translateX(0); opacity: 1; }
  }

  @keyframes orbitDot2 {
    /* from { transform: rotate(0deg) translateX(0); }
    to { transform: rotate(360deg) translateX(0); } */
    0%    { transform: rotate(0deg) translateX(0); opacity: 0; }
    25%   { opacity: 0; }
    75%   { opacity: 1; }
    100%  { transform: rotate(360deg) translateX(0); opacity: 0; }
  }

  @keyframes orbitDot3 {
    /* from { transform: rotate(0deg) translateX(0); }
    to { transform: rotate(360deg) translateX(0); } */
    0%    { transform: rotate(0deg) translateX(0); opacity: 0; }
    25%   { opacity: 1; }
    75%   { opacity: 0; }
    100%  { transform: rotate(360deg) translateX(0); opacity: 0; }
  }

  /* @keyframes rotateOrbits {
    from { transform: rotate(0deg) translateX(0); }
    to { transform: rotate(360deg) translateX(0); }
  } */

  @keyframes growOrbits {
    /* scale from ~45/80 = 0.5625 up to 1.0; fade in at the start and fade out at the end */
    0%   { transform: scale(0.5625); opacity: 0; }
    25%  { opacity: 1; }
    75%  { opacity: 1; }
    100% { transform: scale(1); opacity: 0; }
  }

  /* @keyframes float {
    0% { transform: translateY(0) rotate(0.5deg); }
    50% { transform: translateY(-6px) rotate(-0.5deg); }
    100% { transform: translateY(0) rotate(0.5deg); }
  } */

  @keyframes spin {
    0% { transform: rotate(0deg); }
    25% { transform: rotate(90deg); }
    50% { transform: rotate(180deg); }
    75% { transform: rotate(270deg); }
    100% { transform: rotate(360deg); }
  }

  @keyframes spiral {
    0% { transform: translateY(5px) translateX(0); }
    25% { transform: translateY(0) translateX(5px); }
    50% { transform: translateY(-5px) translateX(0); }
    75% { transform: translateY(0) translateX(-5px); }
    100% { transform: translateY(5px) translateX(0); }    
  }

  /* small responsive tweak */
  @media (max-width: 600px) {
    .animated-logo { width: 120px; height: 120px; }
  }
